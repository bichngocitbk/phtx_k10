<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M·ª•c L·ª•c H·ªçc T·∫≠p ‚Äî Study Index</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400&display=swap');

        :root {
            --ink: #1a1a2e;
            --parchment: #f5f0e8;
            --parchment-deep: #ebe4d6;
            --gold: #b8860b;
            --gold-light: #d4a843;
            --gold-glow: rgba(184, 134, 11, 0.12);
            --crimson: #8b1a1a;
            --sage: #4a6741;
            --teal: #2a6a6e;
            --plum: #5c3d6e;
            --warm-gray: #6b6358;
            --divider: #d4cbbf;
            --shadow-soft: rgba(26, 26, 46, 0.06);
            --shadow-med: rgba(26, 26, 46, 0.12);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cormorant Garamond', 'Palatino Linotype', 'Book Antiqua', 'Georgia', serif;
            background: var(--parchment);
            color: var(--ink);
            min-height: 100vh;
            line-height: 1.6;
        }

        /* === BACKGROUND TEXTURE === */
        body::before {
            content: '';
            position: fixed;
            inset: 0;
            background:
                radial-gradient(ellipse at 20% 0%, rgba(184, 134, 11, 0.06) 0%, transparent 60%),
                radial-gradient(ellipse at 80% 100%, rgba(139, 26, 26, 0.04) 0%, transparent 60%);
            pointer-events: none;
            z-index: 0;
        }

        /* === HEADER === */
        .page-header {
            position: relative;
            text-align: center;
            padding: 60px 24px 48px;
            background: linear-gradient(180deg, #1a1a2e 0%, #2d2b3f 100%);
            color: var(--parchment);
            overflow: hidden;
        }

        .page-header::before {
            content: '‚ò∏';
            position: absolute;
            font-size: 280px;
            opacity: 0.03;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
        }

        .page-header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--gold), transparent);
        }

        .header-ornament {
            font-size: 18px;
            letter-spacing: 12px;
            color: var(--gold);
            margin-bottom: 16px;
            opacity: 0;
            animation: fadeDown 0.8s ease 0.2s forwards;
        }

        .page-title {
            font-size: clamp(2rem, 5vw, 3.4rem);
            font-weight: 300;
            letter-spacing: 3px;
            margin-bottom: 8px;
            opacity: 0;
            animation: fadeDown 0.8s ease 0.4s forwards;
        }

        .page-title strong {
            font-weight: 600;
            color: var(--gold-light);
        }

        .page-subtitle {
            font-size: 1.15rem;
            font-weight: 300;
            font-style: italic;
            color: rgba(245, 240, 232, 0.55);
            letter-spacing: 1px;
            opacity: 0;
            animation: fadeDown 0.8s ease 0.6s forwards;
        }

        /* === MAIN CONTAINER === */
        .main {
            position: relative;
            z-index: 1;
            max-width: 960px;
            margin: 0 auto;
            padding: 48px 24px 80px;
        }

        /* === STATS BAR === */
        .stats-bar {
            display: flex;
            justify-content: center;
            gap: 40px;
            padding: 20px 0 36px;
            margin-bottom: 12px;
            opacity: 0;
            animation: fadeUp 0.7s ease 0.8s forwards;
        }

        .stat {
            text-align: center;
        }

        .stat-number {
            display: block;
            font-size: 2rem;
            font-weight: 700;
            color: var(--gold);
            line-height: 1;
        }

        .stat-label {
            font-size: 0.82rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--warm-gray);
            margin-top: 4px;
        }

        /* === SUBJECT SECTION === */
        .subject {
            margin-bottom: 48px;
            opacity: 0;
            transform: translateY(20px);
        }

        .subject.visible {
            animation: fadeUp 0.6s ease forwards;
        }

        .subject-header {
            display: flex;
            align-items: center;
            gap: 16px;
            padding-bottom: 14px;
            border-bottom: 2px solid var(--divider);
            margin-bottom: 20px;
            cursor: pointer;
            user-select: none;
            transition: border-color 0.3s;
        }

        .subject-header:hover {
            border-bottom-color: var(--gold);
        }

        .subject-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            flex-shrink: 0;
            box-shadow: 0 2px 8px var(--shadow-soft);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .subject-header:hover .subject-icon {
            transform: scale(1.08);
            box-shadow: 0 4px 14px var(--shadow-med);
        }

        .subject-info {
            flex: 1;
        }

        .subject-name {
            font-size: 1.55rem;
            font-weight: 600;
            letter-spacing: 0.5px;
            line-height: 1.3;
        }

        .subject-name-vi {
            font-size: 0.95rem;
            font-weight: 300;
            font-style: italic;
            color: var(--warm-gray);
            margin-top: 1px;
        }

        .subject-count {
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--warm-gray);
            background: var(--parchment-deep);
            padding: 4px 12px;
            border-radius: 20px;
            flex-shrink: 0;
        }

        .subject-toggle {
            font-size: 1.1rem;
            color: var(--warm-gray);
            transition: transform 0.35s ease;
            flex-shrink: 0;
        }

        .subject.collapsed .subject-toggle {
            transform: rotate(-90deg);
        }

        /* === UNIT LIST === */
        .unit-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
            gap: 12px;
            overflow: hidden;
            transition: max-height 0.5s ease, opacity 0.35s ease;
        }

        .subject.collapsed .unit-list {
            max-height: 0 !important;
            opacity: 0;
            pointer-events: none;
        }

        .unit-card {
            position: relative;
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 14px 18px;
            background: white;
            border-radius: 10px;
            text-decoration: none;
            color: var(--ink);
            box-shadow: 0 1px 4px var(--shadow-soft);
            transition: all 0.25s ease;
            overflow: hidden;
        }

        .unit-card::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 3px;
            border-radius: 3px 0 0 3px;
            opacity: 0;
            transition: opacity 0.25s;
        }

        .unit-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px var(--shadow-med);
        }

        .unit-card:hover::before {
            opacity: 1;
        }

        .unit-card:active {
            transform: translateY(0);
        }

        .unit-num {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.85rem;
            font-weight: 700;
            flex-shrink: 0;
            transition: transform 0.25s;
        }

        .unit-card:hover .unit-num {
            transform: scale(1.1);
        }

        .unit-text {
            flex: 1;
            min-width: 0;
        }

        .unit-title {
            font-size: 1rem;
            font-weight: 600;
            line-height: 1.3;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .unit-subtitle {
            font-size: 0.82rem;
            font-weight: 300;
            font-style: italic;
            color: var(--warm-gray);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .unit-arrow {
            color: var(--warm-gray);
            opacity: 0;
            transform: translateX(-6px);
            transition: all 0.25s;
            flex-shrink: 0;
        }

        .unit-card:hover .unit-arrow {
            opacity: 1;
            transform: translateX(0);
        }

        /* === COLOR THEMES === */
        .theme-crimson .subject-icon { background: #fdf2f2; color: var(--crimson); }
        .theme-crimson .unit-num { background: #fdf2f2; color: var(--crimson); }
        .theme-crimson .unit-card::before { background: var(--crimson); }

        .theme-teal .subject-icon { background: #eef7f7; color: var(--teal); }
        .theme-teal .unit-num { background: #eef7f7; color: var(--teal); }
        .theme-teal .unit-card::before { background: var(--teal); }

        .theme-plum .subject-icon { background: #f5f0f8; color: var(--plum); }
        .theme-plum .unit-num { background: #f5f0f8; color: var(--plum); }
        .theme-plum .unit-card::before { background: var(--plum); }

        .theme-sage .subject-icon { background: #f0f5ee; color: var(--sage); }
        .theme-sage .unit-num { background: #f0f5ee; color: var(--sage); }
        .theme-sage .unit-card::before { background: var(--sage); }

        .theme-gold .subject-icon { background: #fdf8ee; color: var(--gold); }
        .theme-gold .unit-num { background: #fdf8ee; color: var(--gold); }
        .theme-gold .unit-card::before { background: var(--gold); }

        /* === FOOTER === */
        .page-footer {
            text-align: center;
            padding: 32px 24px;
            color: var(--warm-gray);
            font-size: 0.88rem;
            font-style: italic;
        }

        .page-footer .ornament {
            color: var(--gold);
            letter-spacing: 8px;
            margin-bottom: 8px;
            font-style: normal;
        }

        /* === ANIMATIONS === */
        @keyframes fadeDown {
            from { opacity: 0; transform: translateY(-16px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* === RESPONSIVE === */
        @media (max-width: 600px) {
            .page-header { padding: 40px 16px 32px; }
            .main { padding: 32px 16px 60px; }
            .stats-bar { gap: 24px; }
            .subject-header { gap: 12px; }
            .subject-icon { width: 40px; height: 40px; font-size: 18px; }
            .subject-name { font-size: 1.3rem; }
            .unit-list { grid-template-columns: 1fr; }
            .subject-count { display: none; }
        }

        /* === PRINT === */
        @media print {
            body { background: white; }
            body::before { display: none; }
            .page-header { background: none; color: var(--ink); padding: 20px 0; }
            .page-header::before, .page-header::after { display: none; }
            .page-title strong { color: var(--ink); }
            .page-subtitle { color: var(--warm-gray); }
            .unit-card { box-shadow: none; border: 1px solid #ddd; break-inside: avoid; }
            .subject { break-inside: avoid; }
        }
    </style>
</head>
<body>

<header class="page-header">
    <div class="header-ornament">‚óÜ ‚óÜ ‚óÜ</div>
    <h1 class="page-title">M·ª•c L·ª•c <strong>H·ªçc T·∫≠p</strong></h1>
    <p class="page-subtitle">Study Index ‚Äî Encyclopaedia of Buddhist Studies</p>
</header>

<main class="main">
    <div class="stats-bar">
        <div class="stat">
            <span class="stat-number" id="totalSubjects">‚Äî</span>
            <span class="stat-label">M√¥n h·ªçc</span>
        </div>
        <div class="stat">
            <span class="stat-number" id="totalUnits">‚Äî</span>
            <span class="stat-label">B√†i h·ªçc</span>
        </div>
    </div>

    <div id="subjectContainer"></div>
</main>

<footer class="page-footer">
    <div class="ornament">‚óá ‚óá ‚óá</div>
    C·∫≠p nh·∫≠t b√†i h·ªçc th∆∞·ªùng xuy√™n ‚Äî Nh·∫•n v√†o ti√™u ƒë·ªÅ m√¥n h·ªçc ƒë·ªÉ thu g·ªçn/m·ªü r·ªông
</footer>

<script>
/* ==============================================================
   üìö  D·ªÆ LI·ªÜU M√îN H·ªåC ‚Äî CH·ªàNH S·ª¨A ·ªû ƒê√ÇY
   
   C·∫•u tr√∫c m·ªói m√¥n:
   {
     id:       "folder-name",          // t√™n subfolder
     name:     "English Name",         // t√™n ti·∫øng Anh
     nameVi:   "T√™n ti·∫øng Vi·ªát",       // t√™n ti·∫øng Vi·ªát
     icon:     "üìñ",                   // emoji ƒë·∫°i di·ªán
     theme:    "crimson",              // crimson | teal | plum | sage | gold
     units: [
       { num: 1, title: "Title EN", subtitle: "Ti√™u ƒë·ªÅ VN", file: "unit01.html" },
       ...
     ]
   }
   
   ‚û§ Link b√†i h·ªçc s·∫Ω t·ª± t·∫°o theo d·∫°ng: ./{id}/{file}
   ‚û§ Th√™m m√¥n m·ªõi: copy 1 block { ... } r·ªìi s·ª≠a th√¥ng tin
   ‚û§ Th√™m b√†i m·ªõi: th√™m d√≤ng trong m·∫£ng units
================================================================ */

const subjects = [
    {
        id: "avpp",
        name: "Buddhist English",
        nameVi: "Anh vƒÉn Ph·∫≠t Ph√°p",
        icon: "‚ò∏",
        theme: "plum",
        units: [
            { num: 04, title: "Great renunciation and enlightenment, Nibbana", subtitle: "ƒê·∫°i s·ª± xu·∫•t th·∫ø v√† gi√°c ng·ªô ni·∫øt b√†n", file: "unit04.html" },
            { num: 05, title: "The Bbrahma's appeal to The Buddha", subtitle: "L·ªùi Ph·∫°m Thi√™n th·ªânh c·∫ßu ƒê·ª©c Ph·∫≠t", file: "unit05.html" },
            { num: 06, title: "The turning of the Dhamma wheel", subtitle: "Chuy·ªÉn Ph√°p lu√¢n", file: "unit06.html" },
            { num: 13, title: "Acchariyabbhutadhamma-sutta", subtitle: "Kinh n√≥i v·ªÅ c√°c hi·ªán t∆∞·ª£ng hy h·ªØu, k·ª≥ di·ªáu ch∆∞a t·ª´ng c√≥", file: "unit13.html" },
            { num: 14, title: "THE BUDDHA IN THE WORLD", subtitle: "ƒê·ª®C PH·∫¨T TR√äN TH·∫æ GIAN", file: "unit14.html" },
            { num: 15, title: "The Heavenly Coral Tree", subtitle: "Thi√™n hoa san h√¥", file: "unit15.html" },
        ]
    },
    {
        id: "pali",
        name: "PƒÅli Canon",
        nameVi: "Kinh t·∫°ng PƒÅli",
        icon: "üìú",
        theme: "crimson",
        units: [
            { num: 1, title: "Rathavinƒ´ta-sutta", subtitle: "Kinh B·∫£y Ph√°p", file: "unit01.html" },
            { num: 2, title: "Satipa·π≠·π≠hƒÅna-sutta", subtitle: "Kinh Ni·ªám X·ª©", file: "unit02.html" },
            { num: 3, title: "Dhammacakkappavattana-sutta", subtitle: "Kinh Chuy·ªÉn Ph√°p Lu√¢n", file: "unit03.html" },
            { num: 4, title: "MahƒÅparinibbƒÅna-sutta", subtitle: "Kinh ƒê·∫°i B√°t Ni·∫øt B√†n", file: "unit04.html" },
            { num: 5, title: "ƒÄnƒÅpƒÅnasati-sutta", subtitle: "Kinh Qu√°n Ni·ªám H∆°i Th·ªü", file: "unit05.html" },
            { num: 6, title: "Karanƒ´yametta-sutta", subtitle: "Kinh T·ª´ Bi", file: "unit06.html" },
        ]
    },
    {
        id: "hanco",
        name: "Classical Chinese",
        nameVi: "H√°n c·ªï",
        icon: "üèØ",
        theme: "teal",
        units: [
            { num: 1, title: "Basic Characters & Radicals", subtitle: "B·ªô th·ªß & Ch·ªØ c∆° b·∫£n", file: "unit01.html" },
            { num: 2, title: "Classical Grammar I", subtitle: "Ng·ªØ ph√°p H√°n vƒÉn I", file: "unit02.html" },
            { num: 3, title: "Classical Grammar II", subtitle: "Ng·ªØ ph√°p H√°n vƒÉn II", file: "unit03.html" },
            { num: 4, title: "Buddhist Chinese Terms", subtitle: "Thu·∫≠t ng·ªØ Ph·∫≠t gi√°o H√°n vƒÉn", file: "unit04.html" },
            { num: 5, title: "Reading: Heart Sutra", subtitle: "B√°t Nh√£ T√¢m Kinh", file: "unit05.html" },
        ]
    },
    // ‚û§ TH√äM M√îN M·ªöI ·ªû ƒê√ÇY ‚Äî copy block m·∫´u b√™n d∆∞·ªõi:
    /*
    {
        id: "ten-folder",
        name: "Subject Name",
        nameVi: "T√™n ti·∫øng Vi·ªát",
        icon: "üìò",
        theme: "sage",   // crimson | teal | plum | sage | gold
        units: [
            { num: 1, title: "Lesson Title", subtitle: "Ti√™u ƒë·ªÅ b√†i", file: "unit01.html" },
        ]
    },
    */
];

/* ============================================================== 
   RENDER ‚Äî Kh√¥ng c·∫ßn s·ª≠a ph·∫ßn d∆∞·ªõi
============================================================== */

function render() {
    const container = document.getElementById('subjectContainer');
    let totalUnits = 0;

    subjects.forEach((subj, si) => {
        totalUnits += subj.units.length;

        const section = document.createElement('section');
        section.className = `subject theme-${subj.theme}`;
        section.style.animationDelay = `${0.9 + si * 0.15}s`;

        const unitsHTML = subj.units.map(u => `
            <a class="unit-card" href="./${subj.id}/${u.file}" title="${u.title}">
                <span class="unit-num">${String(u.num).padStart(2, '0')}</span>
                <span class="unit-text">
                    <span class="unit-title">${u.title}</span>
                    <span class="unit-subtitle">${u.subtitle}</span>
                </span>
                <span class="unit-arrow">‚Üí</span>
            </a>
        `).join('');

        section.innerHTML = `
            <div class="subject-header" onclick="toggleSubject(this)">
                <div class="subject-icon">${subj.icon}</div>
                <div class="subject-info">
                    <div class="subject-name">${subj.name}</div>
                    <div class="subject-name-vi">${subj.nameVi}</div>
                </div>
                <span class="subject-count">${subj.units.length} b√†i</span>
                <span class="subject-toggle">‚ñæ</span>
            </div>
            <div class="unit-list">${unitsHTML}</div>
        `;

        container.appendChild(section);
    });

    document.getElementById('totalSubjects').textContent = subjects.length;
    document.getElementById('totalUnits').textContent = totalUnits;

    // Intersection Observer for scroll animation
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
                observer.unobserve(entry.target);
            }
        });
    }, { threshold: 0.1 });

    document.querySelectorAll('.subject').forEach(el => observer.observe(el));
}

function toggleSubject(header) {
    const section = header.closest('.subject');
    section.classList.toggle('collapsed');
}

document.addEventListener('DOMContentLoaded', render);
</script>

</body>
</html>
